new entry "ShortResting"
type "PassiveData"
data "Properties" "IsHidden"
data "StatsFunctors" "ApplyStatus(SELF,RAW_SHORT_REST,100,-1)"
data "StatsFunctorContext" "OnShortRest"

new entry "RAW_SHORT_REST"
type "StatusData"
using "RAW_SHORT_REST"
data "Boosts" "ActionResourceBlock(Movement);ActionResourceBlock(ActionPoint);ActionResourceBlock(BonusActionPoint);UnlockSpell(RAW_Shout_EndShortRest);IF(HasHitDice6()):UnlockSpell(Shout_Raw_Hit_Dice_Recovering_d6);IF(HasHitDice8()):UnlockSpell(Shout_Raw_Hit_Dice_Recovering_d8);IF(HasHitDice10()):UnlockSpell(Shout_Raw_Hit_Dice_Recovering_d10);IF(HasHitDice12()):UnlockSpell(Shout_Raw_Hit_Dice_Recovering_d12)"

new entry "Shout_Raw_Hit_Dice_Recovering_d12"
type "SpellData"
using "Shout_SecondWind"
data "SpellType" "Shout"
data "Cooldown" ""
data "SpellProperties" "RegainHitPoints(7+ConstitutionModifier);ApplyStatus(BARD_SONG_OF_REST_HEAL,100,-1)"
data "DisplayName" "e0173d1b-7e4b-4474-b9ff-2c32fff68285;1"
data "Description" "62a3b41e-5c6c-4524-8ae2-9dbdee05f806;1"
data "DescriptionParams" "RegainHitPoints(7+ConstitutionModifier)"
data "TooltipDamageList" "RegainHitPoints(7+ConstitutionModifier)"
data "UseCosts" "HitDie12:1"
data "SpellFlags" "Temporary"

new entry "Shout_Raw_Hit_Dice_Recovering_d10"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d12"
data "SpellProperties" "RegainHitPoints(6+ConstitutionModifier);ApplyStatus(BARD_SONG_OF_REST_HEAL,100,-1)"
data "DescriptionParams" "RegainHitPoints(6+ConstitutionModifier)"
data "TooltipDamageList" "RegainHitPoints(6+ConstitutionModifier)"
data "UseCosts" "HitDie10:1"

new entry "Shout_Raw_Hit_Dice_Recovering_d8"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d12"
data "SpellProperties" "RegainHitPoints(5+ConstitutionModifier);ApplyStatus(BARD_SONG_OF_REST_HEAL,100,-1)"
data "DescriptionParams" "RegainHitPoints(5+ConstitutionModifier)"
data "TooltipDamageList" "RegainHitPoints(5+ConstitutionModifier)"
data "UseCosts" "HitDie8:1"

new entry "Shout_Raw_Hit_Dice_Recovering_d6"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d12"
data "SpellProperties" "RegainHitPoints(4+ConstitutionModifier);ApplyStatus(BARD_SONG_OF_REST_HEAL,100,-1)"
data "DescriptionParams" "RegainHitPoints(4+ConstitutionModifier)"
data "TooltipDamageList" "RegainHitPoints(4+ConstitutionModifier)"
data "UseCosts" "HitDie6:1"

new entry "Shout_Raw_Durable_Hit_Dice_Recovering_d12"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d12"
data "UseCosts" "BonusActionPoint:1;HitDie12:1"
data "SpellFlags" ""

new entry "Shout_Raw_Durable_Hit_Dice_Recovering_d10"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d10"
data "UseCosts" "BonusActionPoint:1;HitDie10:1"
data "SpellFlags" ""

new entry "Shout_Raw_Durable_Hit_Dice_Recovering_d8"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d8"
data "UseCosts" "BonusActionPoint:1;HitDie8:1"
data "SpellFlags" ""

new entry "Shout_Raw_Durable_Hit_Dice_Recovering_d6"
type "SpellData"
using "Shout_Raw_Hit_Dice_Recovering_d6"
data "UseCosts" "BonusActionPoint:1;HitDie6:1"
data "SpellFlags" ""

new entry "Durable"
type "PassiveData"
using "Durable"
data "Boosts" "Ability(Constitution,1,20);IF(Player() and not Tagged('DOWNED_DISABLED')):DownedStatus(DOWNED_ADVANTAGE_DEATHSAVE);IF(HasHitDice6()):UnlockSpell(Shout_Raw_Durable_Hit_Dice_Recovering_d6);IF(HasHitDice8()):UnlockSpell(Shout_Raw_Durable_Hit_Dice_Recovering_d8);IF(HasHitDice10()):UnlockSpell(Shout_Raw_Durable_Hit_Dice_Recovering_d10);IF(HasHitDice12()):UnlockSpell(Shout_Raw_Durable_Hit_Dice_Recovering_d12)"

new entry "DOWNED_ADVANTAGE_DEATHSAVE"
type "StatusData"
using "DOWNED"
data "StableRollDC" "5"

