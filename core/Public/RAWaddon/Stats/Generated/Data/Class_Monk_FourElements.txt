// Four Elements passive
new entry "FourElementsDisciplines"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "UnlockInterrupt(Interrupt_FangsOfTheFireSnake)"

// Fangs Of The Fire Snake
new entry "Projectile_FangsOfTheFireSnake"
type "SpellData"
using "Projectile_FangsOfTheFireSnake"
data "SpellProperties" "IF(not Player(context.Source)):ApplyStatus(SELF,AI_HELPER_EXTRAATTACK,100,1);ApplyStatus(SELF,FANGS_OF_THE_FIRE_SNAKE,100,1);ApplyStatus(SELF,MARTIAL_ARTS_BONUS_UNARMED_STRIKE,100,1);ApplyStatus(SELF,MARTIAL_ARTS_FLURRY_OF_BLOWS,100,1)"
data "TargetRadius" "4.5"
data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)	"
data "SpellSuccess" "DealDamage(UnarmedDamage, Fire)"
data "Description" "f316aa7c-6e93-4b99-ae71-83e3c67f9b0a;6"
data "TooltipDamageList" "DealDamage(MartialArtsUnarmedDamage, Fire)"
data "TooltipAttackSave" "MeleeUnarmedAttack"
data "TooltipStatusApply" "ApplyStatus(FANGS_OF_THE_FIRE_SNAKE,100,1); "

new entry "FANGS_OF_THE_FIRE_SNAKE"
type "StatusData"
using "FANGS_OF_THE_FIRE_SNAKE"
data "DisplayName" "h60dd4652gfc75g4a9dg8256gbc9bbeb1395b;1"
data "Description" "f316aa7c-6e93-4b99-ae71-83e3c67f9b0a;6"
data "Boosts" "UnlockSpellVariant(MeleeUnarmedAttackCheck(),ModifyTargetRadius(Override,4.5))"
data "StatusEffect" "9c1c9ea9-e5d5-4f1e-91f2-415f5e80e942"

new entry "Interrupt_FangsOfTheFireSnake"
type "InterruptData"
data "InterruptContext" "OnCastHit"
data "InterruptContextScope" "Self"
data "InterruptDefaultValue" "Ask;Enabled"
data "InterruptDefaultValue" ""
data "Container" "YesNoDecision"
data "DisplayName" "h60dd4652gfc75g4a9dg8256gbc9bbeb1395b;1"
data "Description" "f368060b-4738-4353-b142-a9aa16257a39;1"
data "Icon" "Action_Monk_FangsOfTheFireSnake"
data "Conditions" "not Item() and Self(context.Source,context.Observer) and not Self(context.Source,context.Target) and HasStatus('FANGS_OF_THE_FIRE_SNAKE',context.Source) and IsMeleeUnarmedAttack() and HasDamageEffectFlag(DamageFlags.Hit) and not IsKillingBlow()"
data "Properties" "DealDamage(1d10,Fire)"
data "Cost" "KiPoint:1"
data "EnableCondition" "not HasStatus('SG_Polymorph') or Tagged('MINDFLAYER') or HasStatus('SG_Disguise')"
data "EnableContext" "OnStatusApplied"

// Fist of Four Thunders
new entry "RAW_FistOfFourThunders"
type "SpellData"
data "SpellType" "Zone"
data "ContainerSpells" "Zone_Thunderwave_Monk_3;Zone_Thunderwave_Monk_2;Zone_Thunderwave_Monk"
data "Icon" "Spell_Evocation_Thunderwave"
data "DisplayName" "hd3e28c15gfb0fg42d1g98e1gf65e6d78ce6a;2"
data "Description" "h1780b369gb2c3g4bbagb0c5ga163962737e3;2"
data "TooltipDamageList" "DealDamage(2d8,Thunder)"
data "TooltipAttackSave" "Constitution"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "SpellFlags" "HasSomaticComponent;AddFallDamageOnLand;IsHarmful;IsLinkedSpellContainer"

new entry "Zone_Thunderwave_Monk"
type "SpellData"
using "Zone_Thunderwave_Monk"
data "SpellRoll" "not SavingThrow(Ability.Constitution, WisdomSaveDC())"
data "SpellSuccess" "DealDamage(2d8,Thunder,Magical);Force(3, OriginToTarget)"
data "SpellFail" "DealDamage((2d8)/2,Thunder,Magical);"
data "TooltipDamageList" "DealDamage(2d8,Thunder)"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "SpellContainerID" "RAW_FistOfFourThunders"

new entry "Zone_Thunderwave_Monk_2"
type "SpellData"
using "Zone_Thunderwave_Monk"
data "SpellSuccess" "DealDamage(3d8,Thunder,Magical);Force(3, OriginToTarget)"
data "SpellFail" "DealDamage((3d8)/2,Thunder,Magical);"
data "TooltipDamageList" "DealDamage(3d8,Thunder)"
data "UseCosts" "ActionPoint:1;KiPoint:3"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(5)"

new entry "Zone_Thunderwave_Monk_3"
type "SpellData"
using "Zone_Thunderwave_Monk"
data "SpellSuccess" "DealDamage(4d8,Thunder,Magical);Force(3, OriginToTarget)"
data "SpellFail" "DealDamage((4d8)/2,Thunder,Magical);"
data "TooltipDamageList" "DealDamage(4d8,Thunder)"
data "UseCosts" "ActionPoint:1;KiPoint:4"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(9)"

// Fist Of Unbroken Air
new entry "RAW_FistOfUnbrokenAir"
type "SpellData"
data "SpellType" "Zone"
data "ContainerSpells" "Target_FistOfUnbrokenAir_3;Target_FistOfUnbrokenAir_2;Target_FistOfUnbrokenAir"
data "Icon" "Action_Monk_FistOfUnbrokenAir"
data "DisplayName" "h133847b1gabedg4325gae61g968ab733a058;2"
data "Description" "hb580f508g6b4cg463ega722g7b92469c17e5;7"
data "TooltipDamageList" "DealDamage(3d10,Bludgeoning)"
data "TooltipAttackSave" "Strength"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "SpellFlags" "DisableBlood;AddFallDamageOnLand;IsHarmful;IsLinkedSpellContainer"

new entry "Target_FistOfUnbrokenAir"
type "SpellData"
using "Target_FistOfUnbrokenAir"
data "SpellProperties" "ApplyStatus(SELF,MARTIAL_ARTS_BONUS_UNARMED_STRIKE,100,1);ApplyStatus(SELF,MARTIAL_ARTS_FLURRY_OF_BLOWS,100,1)"
data "SpellRoll" "not SavingThrow(Ability.Strength, WisdomSaveDC())"
data "SpellSuccess" "DealDamage(3d10,Bludgeoning);Force(6);ApplyStatus(PRONE,100,1)"
data "SpellFail" "DealDamage((3d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(3d10,Bludgeoning)"
data "SpellContainerID" "RAW_FistOfUnbrokenAir"

new entry "Target_FistOfUnbrokenAir_2"
type "SpellData"
using "Target_FistOfUnbrokenAir"
data "SpellSuccess" "DealDamage(4d10,Bludgeoning);Force(6);ApplyStatus(PRONE,100,1)"
data "SpellFail" "DealDamage((4d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(4d10,Bludgeoning)"
data "UseCosts" "ActionPoint:1;KiPoint:3"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(5)"

new entry "Target_FistOfUnbrokenAir_3"
type "SpellData"
using "Target_FistOfUnbrokenAir"
data "SpellSuccess" "DealDamage(5d10,Bludgeoning);Force(6);ApplyStatus(PRONE,100,1)"
data "SpellFail" "DealDamage((5d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(5d10,Bludgeoning)"
data "UseCosts" "ActionPoint:1;KiPoint:4"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(9)"

// Sweeping Cinder Strike
new entry "RAW_SweepingCinderStrike"
type "SpellData"
data "SpellType" "Zone"
data "ContainerSpells" "Zone_BurningHands_Monk_3;Zone_BurningHands_Monk_2;Zone_BurningHands_Monk"
data "Icon" "Spell_Evocation_BurningHands"
data "DisplayName" "hf3c69a0agc6b0g4e79g9d03g856f0f56dca5;2"
data "Description" "hedc3040eg8cd8g4a32g97c2g65d5e5c6c33d;1"
data "TooltipDamageList" "DealDamage(3d6,Fire)"
data "TooltipAttackSave" "Dexterity"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "SpellFlags" "HasSomaticComponent;IsHarmful;CanAreaDamageEvade;IsLinkedSpellContainer"

new entry "Zone_BurningHands_Monk"
type "SpellData"
using "Zone_BurningHands_Monk"
data "SpellProperties" "GROUND:SurfaceChange(Ignite);GROUND:SurfaceChange(Melt);TARGET:IF(Item()):ApplyStatus(BURNING,100,2)"
data "SpellRoll" "not SavingThrow(Ability.Dexterity, WisdomSaveDC())"
data "SpellSuccess" "DealDamage(3d6, Fire, Magical)"
data "SpellFail" "DealDamage((3d6)/2, Fire, Magical)"
data "TooltipDamageList" "DealDamage(3d6, Fire)"
data "SpellContainerID" "RAW_SweepingCinderStrike"

new entry "Zone_BurningHands_Monk_2"
type "SpellData"
using "Zone_BurningHands_Monk"
data "SpellProperties" "GROUND:SurfaceChange(Ignite);GROUND:SurfaceChange(Melt);TARGET:IF(Item()):ApplyStatus(BURNING,100,2)"
data "SpellSuccess" "DealDamage(4d6, Fire, Magical)"
data "SpellFail" "DealDamage((4d6)/2, Fire, Magical)"
data "TooltipDamageList" "DealDamage(4d6, Fire)"
data "UseCosts" "ActionPoint:1;KiPoint:3"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(5)"

new entry "Zone_BurningHands_Monk_3"
type "SpellData"
using "Zone_BurningHands_Monk"
data "SpellProperties" "GROUND:SurfaceChange(Ignite);GROUND:SurfaceChange(Melt);TARGET:IF(Item()):ApplyStatus(BURNING,100,2)"
data "SpellSuccess" "DealDamage(5d6, Fire, Magical)"
data "SpellFail" "DealDamage((5d6)/2, Fire, Magical)"
data "TooltipDamageList" "DealDamage(5d6, Fire)"
data "UseCosts" "ActionPoint:1;KiPoint:4"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(9)"

// Rush of the Gale Spirits
new entry "Zone_GustOfWind_Monk"
type "SpellData"
using "Zone_GustOfWind_Monk"
data "SpellProperties" "GROUND:SurfaceClearLayer(Cloud); RemoveStatus(BURNING);"
data "SpellFlags" "HasSomaticComponent;AddFallDamageOnLand;IsConcentration"

// Water Whip
new entry "RAW_Target_WaterWhip"
type "SpellData"
data "SpellType" "Zone"
data "ContainerSpells" "Target_WaterWhip_Pull_3;Target_WaterWhip_Prone_3;Target_WaterWhip_Pull_2;Target_WaterWhip_Prone_2;Target_WaterWhip_Pull;Target_WaterWhip_Prone"
data "Icon" "Action_Monk_WaterWhip"
data "DisplayName" "ha633c1fcgac36g45adgb749ga28d05c7a68f;2"
data "Description" "h0248f2cagdd2ag46b6ga4e7g7af9a4581dd8;4"
data "TooltipDamageList" "DealDamage(3d10,Bludgeoning);"
data "TooltipAttackSave" "Dexterity"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "UseCosts" "ActionPoint:1;KiPoint:2"
data "SpellFlags" "IsHarmful;IsLinkedSpellContainer;DisableBlood"

new entry "Target_WaterWhip"
type "SpellData"
using "Target_WaterWhip"
data "SpellRoll" "not SavingThrow(Ability.Dexterity, WisdomSaveDC())"
data "SpellProperties" ""
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"

new entry "Target_WaterWhip_Pull"
type "SpellData"
using "Target_WaterWhip_Pull"
data "SpellSuccess" "DealDamage(3d10,Bludgeoning);Force(-7.6, OriginToEntity, Neutral, false, true)"
data "SpellContainerID" "RAW_Target_WaterWhip"

new entry "Target_WaterWhip_Pull_2"
type "SpellData"
using "Target_WaterWhip_Pull"
data "SpellSuccess" "DealDamage(4d10,Bludgeoning);Force(-7.6, OriginToEntity, Neutral, false, true)"
data "SpellFail" "DealDamage((4d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(4d10,Bludgeoning);"
data "UseCosts" "ActionPoint:1;KiPoint:3"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(5)"

new entry "Target_WaterWhip_Pull_3"
type "SpellData"
using "Target_WaterWhip_Pull"
data "SpellSuccess" "DealDamage(5d10,Bludgeoning);Force(-7.6, OriginToEntity, Neutral, false, true)"
data "SpellFail" "DealDamage((5d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(5d10,Bludgeoning);"
data "UseCosts" "ActionPoint:1;KiPoint:4"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(9)"

new entry "Target_WaterWhip_Prone"
type "SpellData"
using "Target_WaterWhip_Prone"
data "SpellSuccess" "DealDamage(3d10,Bludgeoning);ApplyStatus(PRONE,100,-1)"
data "SpellContainerID" "RAW_Target_WaterWhip"

new entry "Target_WaterWhip_Prone_2"
type "SpellData"
using "Target_WaterWhip_Prone"
data "SpellSuccess" "DealDamage(4d10,Bludgeoning);ApplyStatus(PRONE,100,-1)"
data "SpellFail" "DealDamage((4d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(4d10,Bludgeoning);"
data "UseCosts" "ActionPoint:1;KiPoint:3"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(5)"

new entry "Target_WaterWhip_Prone_3"
type "SpellData"
using "Target_WaterWhip_Prone"
data "SpellSuccess" "DealDamage(5d10,Bludgeoning);ApplyStatus(PRONE,100,-1)"
data "SpellFail" "DealDamage((5d10)/2,Bludgeoning)"
data "TooltipDamageList" "DealDamage(5d10,Bludgeoning);"
data "UseCosts" "ActionPoint:1;KiPoint:4"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(9)"

// Clench of the North Wind
new entry "Target_HoldPerson_Monk"
type "SpellData"
using "Target_HoldPerson_Monk"
data "SpellProperties" ""
data "SpellRoll" "not SavingThrow(Ability.Wisdom, WisdomSaveDC())"

// Gong of the Summit
new entry "RAW_Target_Shatter_Monk"
type "SpellData"
data "SpellType" "Zone"
data "ContainerSpells" "Target_Shatter_Monk_2;Target_Shatter_Monk"
data "Icon" "Spell_Evocation_Shatter"
data "DisplayName" "h2fcb712dg0aa1g4dbdg8790g4429c6fc96c4;2"
data "Description" "hb76ec011gc7a7g43d9gb20cg4e0ffd6f9dde;3"
data "TooltipDamageList" "DealDamage(3d8,Thunder)"
data "TooltipAttackSave" "Constitution"
data "TooltipOnSave" "f762efbb-f8f1-493e-b248-2de1567b4bd2"
data "UseCosts" "ActionPoint:1;KiPoint:3"
data "SpellFlags" "HasHighGroundRangeExtension;HasVerbalComponent;HasSomaticComponent;IsHarmful;IsLinkedSpellContainer"

new entry "Target_Shatter_Monk"
type "SpellData"
using "Target_Shatter_Monk"
data "SpellProperties" ""
data "SpellRoll" "not SavingThrow(Ability.Constitution, WisdomSaveDC(), false, IsInorganic())"
data "SpellSuccess" "DealDamage(3d8,Thunder,Magical)"
data "SpellFail" "DealDamage((3d8)/2,Thunder,Magical)"
data "TooltipDamageList" "DealDamage(3d8,Thunder)"
data "SpellContainerID" "RAW_Target_Shatter_Monk"

new entry "Target_Shatter_Monk_2"
type "SpellData"
using "Target_Shatter_Monk"
data "SpellSuccess" "DealDamage(4d8,Thunder,Magical)"
data "SpellFail" "DealDamage((4d8)/2,Thunder,Magical)"
data "TooltipDamageList" "DealDamage(4d8,Thunder)"
data "UseCosts" "ActionPoint:1;KiPoint:4"
data "RequirementConditions" "MonkLevelHigherOrEqualThan(9)"

// Flames of the Phoenix
new entry "Projectile_Fireball_Monk"
type "SpellData"
using "Projectile_Fireball_Monk"
data "SpellProperties" "GROUND:SurfaceChange(Ignite);GROUND:SurfaceChange(Melt)"
data "SpellRoll" "not SavingThrow(Ability.Dexterity, WisdomSaveDC())"

// Mist Stance
new entry "Shout_GaseousForm_Monk"
type "SpellData"
using "Shout_GaseousForm_Monk"
data "SpellProperties" "ApplyStatus(GASEOUS_FORM,100,600)"
data "TooltipStatusApply" "ApplyStatus(GASEOUS_FORM,100,600)"

// Ride the Wind
new entry "Shout_Fly_Monk"
type "SpellData"
using "Shout_Fly_Monk"
data "SpellProperties" "ApplyStatus(FLY_MONK,100,100)"
data "TooltipStatusApply" "ApplyStatus(FLY_MONK,100,100) "
