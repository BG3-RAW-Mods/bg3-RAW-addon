new entry "Shout_WildShape_BonusAction_SaberTooth_Tiger"
type "SpellData"
using "Shout_Wildshape_SaberTooth_Tiger"
data "SpellContainerID" "Shout_WildShape_BonusAction"
data "SpellProperties" "IF(DruidLevelEqual(6)):ApplyStatus(WILDSHAPE_SABERTOOTH_TIGER_PLAYER,100,-1);IF(DruidLevelEqual(7)):ApplyStatus(WILDSHAPE_SABERTOOTH_TIGER_PLAYER_2,100,-1);IF(DruidLevelHigherOrEqualThan(8)):ApplyStatus(WILDSHAPE_SABERTOOTH_TIGER_PLAYER_3,100,-1)"
data "UseCosts" "BonusActionPoint:1;WildShape:1"
data "Description" "855378a2-f367-4edc-a652-047137f1b32b;1"
data "ExtraDescription" "3a82397f-cdd9-4078-bd1c-6caf5518b8bf;1"
data "ExtraDescriptionParams" "RegainHitPoints(60);RegainHitPoints(84)"

new entry "WILDSHAPE_SABERTOOTH_TIGER_PLAYER"
type "StatusData"
using "WILDSHAPE_SABERTOOTH_TIGER_PLAYER"
data "Boosts" "ProficiencyBonus(Skill,Perception);ProficiencyBonus(Skill,Stealth);ExpertiseBonus(Stealth); VoicebarkBlock();BlockSpellCast();UnlockSpell(Shout_WildShape_Dismiss);IF(isMoonDruid()):UnlockSpell(Shout_WildShape_Combat_Heal,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf)"
data "Passives" "WildShapeSpeed40;KeenSmell;FelineFall;Darkvision30"
data "OnApplyFunctors" "ApplyStatus(SELF,WILDSHAPE_MOVEMENT_TECHNICAL,100,-1);"
data "OnRemoveFunctors" "ApplyStatus(SELF,WILDSHAPE_SABERTOOTH_TIGER_REMOVE_VFX,100,1);RemoveStatus(REGENERATION_SABERTOOTH);ApplyStatus(SELF,WILDSHAPE_TECHNICAL,100,1);RemoveStatus(SELF,WILDSHAPE_MOVEMENT_TECHNICAL)"
data "TemplateID" "c625b3d1-5dff-49d1-9bfe-f2547a739d90"

new entry "WILDSHAPE_SABERTOOTH_TIGER_PLAYER_2"
type "StatusData"
using "WILDSHAPE_SABERTOOTH_TIGER_PLAYER"
data "TemplateID" "6e68526a-703a-44b2-bb9c-9f186120f9f4"

new entry "WILDSHAPE_SABERTOOTH_TIGER_PLAYER_3"
type "StatusData"
using "WILDSHAPE_SABERTOOTH_TIGER_PLAYER"
data "TemplateID" "b3c48e76-07cd-44c3-ada0-81d1015a2192"

new entry "Wildshape_SaberTooth_Tiger"
type "Character"
using "Wildshape_SaberTooth_Tiger"
data "Dexterity" "14"
data "Charisma" "8"
data "Armor" "10"

new entry "Wildshape_SaberTooth_Tiger_1"
type "Character"
using "Wildshape_SaberTooth_Tiger"
data "Vitality" "60"

new entry "Wildshape_SaberTooth_Tiger_2"
type "Character"
using "Wildshape_SaberTooth_Tiger_1"
data "Vitality" "70"

new entry "Wildshape_SaberTooth_Tiger_3"
type "Character"
using "Wildshape_SaberTooth_Tiger_1"
data "Vitality" "84"

// new entry "Target_Pounce_SaberToothTiger_Wildshape"
// type "SpellData"
// using "Projectile_Pounce_Panther_Summon"
// data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)"
// data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,2d6+1+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,2d6+1+UnarmedMeleeAbilityModifier),Piercing,Magical);IF(StatusDurationEqualOrMoreThan(context.Source,'WILDSHAPE_MOVEMENT_TRACKING',6)):ApplyStatus(WILDSHAPE_SABERTOOTHTIGER_POUNCE,100,0)"
// data "Description" "a5c16db7-6e7f-4718-a2ee-3a6d8c5c6323;1"
// data "TooltipDamageList" "DealDamage(2d6+1+UnarmedMeleeAbilityModifier,Piercing);"
// data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"

new entry "Target_Pounce_SaberToothTiger_Wildshape"
type "SpellData"
using "Target_Claws"
data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,2d6+1+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,2d6+1+UnarmedMeleeAbilityModifier),Piercing,Magical);IF(StatusDurationEqualOrMoreThan(context.Source,'WILDSHAPE_MOVEMENT_TRACKING',6)):ApplyStatus(WILDSHAPE_SABERTOOTHTIGER_POUNCE,100,0)"
data "DisplayName" "h77e5b733ge51ag4087gae8eg143de199a097;1"
data "Description" "fa1e3b6e-aee7-4926-a2af-3f4476d44911;1"
data "ExtraDescription" "6ab722a8-8073-4bde-b23c-cf2847f9e7a9;1"
data "ExtraDescriptionParams" "tiger"
data "Icon" "Action_Cat_Claws"
data "TooltipDamageList" "DealDamage(2d6+1+UnarmedMeleeAbilityModifier,Piercing);"
data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"
data "TooltipAttackSave" "MeleeUnarmedAttack;Strength"

new entry "WILDSHAPE_SABERTOOTHTIGER_POUNCE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "405ba887-37a8-4f92-a26b-8a8a5c6e9e69;1"
data "OnApplyRoll" "not SavingThrow(Ability.Strength, WildShapeSaveDC(12))"
data "OnApplySuccess" "ApplyStatus(PRONE,100,1);ApplyStatus(SELF,WILDSHAPE_SABERTOOTHTIGER_BONUS_BITE,100,1)"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"
data "OnRemoveFunctors" "RemoveStatus(SELF,WILDSHAPE_MOVEMENT_TRACKING)"

new entry "WILDSHAPE_SABERTOOTHTIGER_BONUS_BITE"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "UnlockSpell(Target_Bite_SaberToothTiger_Wildshape_BonusAction)"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"
// data "RemoveEvents" "OnMove"

new entry "Target_Bite_SaberToothTiger_Wildshape"
type "SpellData"
using "Target_Bite_SaberTooth"
data "SpellSuccess" "DealDamage(max(1,1d10+1+UnarmedMeleeAbilityModifier),Piercing,Magical)"
data "TooltipDamageList" "DealDamage(1d10+1+UnarmedMeleeAbilityModifier,Piercing)"
data "TooltipStatusApply" ""

new entry "Target_Bite_SaberToothTiger_Wildshape_BonusAction"
type "SpellData"
using "Target_Bite_SaberToothTiger_Wildshape"
data "UseCosts" "BonusActionPoint:1"
data "SpellProperties" "RemoveStatus(SELF,WILDSHAPE_SABERTOOTHTIGER_BONUS_BITE)"
data "SpellFlags" "IsAttack;IsMelee;IsHarmful;Temporary"
data "TargetConditions" "not Self() and not Dead() and HasStatus('PRONE')"
