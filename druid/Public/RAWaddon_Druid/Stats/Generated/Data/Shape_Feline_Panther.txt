new entry "Shout_Wildshape_Action_Panther"
type "SpellData"
using "Shout_Wildshape_Panther"
data "SpellContainerID" "Shout_WildShape_Action"
data "SpellProperties" "IF(DruidLevelEqual(2)):ApplyStatus(WILDSHAPE_PANTHER_PLAYER,100,-1);IF(DruidLevelEqual(3)):ApplyStatus(WILDSHAPE_PANTHER_PLAYER_2,100,-1);IF(DruidLevelHigherOrEqualThan(4)):ApplyStatus(WILDSHAPE_PANTHER_PLAYER_3,100,-1)"
data "Description" "b9797ae6-2e02-430b-9a66-9d66cab97f29;1"
data "ExtraDescription" "3a82397f-cdd9-4078-bd1c-6caf5518b8bf;1"
data "ExtraDescriptionParams" "RegainHitPoints(13);RegainHitPoints(24)"

new entry "Shout_Wildshape_BonusAction_Panther"
type "SpellData"
using "Shout_Wildshape_Action_Panther"
data "SpellContainerID" "Shout_WildShape_BonusAction"
data "UseCosts" "BonusActionPoint:1;WildShape:1"

new entry "WILDSHAPE_PANTHER_PLAYER"
type "StatusData"
using "WILDSHAPE_PANTHER_PLAYER"
data "Boosts" "ProficiencyBonus(Skill,Perception);ProficiencyBonus(Skill,Stealth);ExpertiseBonus(Stealth); VoicebarkBlock();BlockSpellCast();UnlockSpell(Shout_WildShape_Dismiss);IF(isMoonDruid()):UnlockSpell(Shout_WildShape_Combat_Heal,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf)"
data "Passives" "WildShapeSpeed50;KeenSmell;FelineFall;Darkvision30"
data "OnApplyFunctors" "ApplyStatus(SELF,WILDSHAPE_MOVEMENT_TECHNICAL,100,-1)"
data "OnRemoveFunctors" "ApplyStatus(SELF,WILDSHAPE_PANTHER_REMOVE_VFX,100,1);ApplyStatus(SELF,WILDSHAPE_TECHNICAL,100,1);RemoveStatus(SELF,WILDSHAPE_MOVEMENT_TECHNICAL)"
data "TemplateID" "84f1b165-b68e-4294-b41c-eb600b042c03"

new entry "WILDSHAPE_PANTHER_PLAYER_2"
type "StatusData"
using "WILDSHAPE_PANTHER_PLAYER"
data "TemplateID" "b293e6c4-6fd1-4444-8c41-d1f602102919"

new entry "WILDSHAPE_PANTHER_PLAYER_3"
type "StatusData"
using "WILDSHAPE_PANTHER_PLAYER"
data "TemplateID" "0970e9b8-de93-4965-8506-e7610fadb268"

new entry "Panther"
type "Character"
using "Panther"
data "Armor" "10"

new entry "Wildshape_Panther_1"
type "Character"
using "Panther"
data "Vitality" "13"

new entry "Wildshape_Panther_2"
type "Character"
using "Wildshape_Panther_1"
data "Vitality" "18"

new entry "Wildshape_Panther_3"
type "Character"
using "Wildshape_Panther_1"
data "Vitality" "24"

// new entry "Target_Pounce_Panther_WildShape"
// type "SpellData"
// using "Projectile_Pounce_Panther_Summon"
// data "Cooldown" ""
// data "SpellRoll" "Attack(AttackType.MeleeUnarmedAttack)"
// data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Piercing,Magical);IF(StatusDurationEqualOrMoreThan(context.Source,'WILDSHAPE_MOVEMENT_TRACKING',6)):ApplyStatus(WILDSHAPE_PANTHER_POUNCE,100,0)"
// data "Description" "a5c16db7-6e7f-4718-a2ee-3a6d8c5c6323;1"
// data "TooltipDamageList" "DealDamage(1d4+UnarmedMeleeAbilityModifier,Piercing);"
// data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"

new entry "Target_Pounce_Panther_WildShape"
type "SpellData"
using "Target_Claws"
data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Piercing,Magical);IF(StatusDurationEqualOrMoreThan(context.Source,'WILDSHAPE_MOVEMENT_TRACKING',6)):ApplyStatus(WILDSHAPE_PANTHER_POUNCE,100,0)"
data "DisplayName" "h77e5b733ge51ag4087gae8eg143de199a097;1"
data "Description" "a5c16db7-6e7f-4718-a2ee-3a6d8c5c6323;1"
data "ExtraDescription" "6ab722a8-8073-4bde-b23c-cf2847f9e7a9;1"
data "ExtraDescriptionParams" "panther"
data "Icon" "Action_Cat_Claws"
data "TooltipDamageList" "DealDamage(1d4+UnarmedMeleeAbilityModifier,Piercing);"
data "TooltipStatusApply" "ApplyStatus(PRONE,100,1)"
data "TooltipAttackSave" "MeleeUnarmedAttack;Strength"

new entry "WILDSHAPE_PANTHER_POUNCE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "47b7fbdd-ed6c-4ac8-b8e7-075c8566a6bf;1"
data "OnApplyRoll" "not SavingThrow(Ability.Strength, WildShapeSaveDC(10))"
data "OnApplySuccess" "ApplyStatus(PRONE,100,1);ApplyStatus(SELF,WILDSHAPE_PANTHER_BONUS_BITE,100,1)"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"
data "OnRemoveFunctors" "RemoveStatus(SELF,WILDSHAPE_MOVEMENT_TRACKING)"

new entry "WILDSHAPE_PANTHER_BONUS_BITE"
type "StatusData"
data "StatusType" "BOOST"
data "Boosts" "UnlockSpell(Target_Bite_Panther_WildShape_BonusAction)"
data "StatusPropertyFlags" "DisableOverhead;DisablePortraitIndicator;DisableCombatlog"
// data "RemoveEvents" "OnMove"

new entry "Target_Bite_Panther_WildShape"
type "SpellData"
using "Target_Bite_Panther"
data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing,Magical)"
data "SpellSuccess" "DealDamage(1d6+UnarmedMeleeAbilityModifier,Piercing)"
data "TooltipDamageList" "DealDamage(1d6+UnarmedMeleeAbilityModifier,Piercing)"

new entry "Target_Bite_Panther_WildShape_BonusAction"
type "SpellData"
using "Target_Bite_Panther_WildShape"
data "UseCosts" "BonusActionPoint:1"
data "SpellProperties" "RemoveStatus(SELF,WILDSHAPE_PANTHER_BONUS_BITE)"
data "SpellFlags" "IsAttack;IsMelee;IsHarmful;Temporary"
data "TargetConditions" "not Self() and not Dead() and HasStatus('PRONE')"
