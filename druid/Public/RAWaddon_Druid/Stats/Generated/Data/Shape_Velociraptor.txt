new entry "Shout_WildShape_Action_Velociraptor"
type "SpellData"
using "Shout_WildShape_Badger"
data "SpellContainerID" "Shout_WildShape_Action"
data "SpellProperties" "IF(DruidLevelEqual(2)):ApplyStatus(WILDSHAPE_VELOCIRAPTOR_PLAYER,100,-1);IF(DruidLevelEqual(3)):ApplyStatus(WILDSHAPE_VELOCIRAPTOR_PLAYER_2,100,-1);IF(DruidLevelHigherOrEqualThan(4)):ApplyStatus(WILDSHAPE_VELOCIRAPTOR_PLAYER_3,100,-1)"
data "Icon" "Action_WildShape_Dilophosaurus"
data "DisplayName" "90b83c34-89d1-4f2b-aaa4-a35ad6216d1f;1"
data "Description" "bcdd4b4d-c560-4627-984e-b4fde27ee4a9;1"
data "ExtraDescription" "3a82397f-cdd9-4078-bd1c-6caf5518b8bf;1"
data "ExtraDescriptionParams" "RegainHitPoints(10);RegainHitPoints(15)"

new entry "Shout_WildShape_BonusAction_Velociraptor"
type "SpellData"
using "Shout_WildShape_Action_Velociraptor"
data "SpellContainerID" "Shout_WildShape_BonusAction"
data "UseCosts" "BonusActionPoint:1;WildShape:1"

new entry "WILDSHAPE_VELOCIRAPTOR_PLAYER"
type "StatusData"
using "WILDSHAPE_DILOPHOSAURUS_PLAYER"
data "DisplayName" "90b83c34-89d1-4f2b-aaa4-a35ad6216d1f;1"
data "Boosts" "ProficiencyBonus(Skill,Perception); VoicebarkBlock();BlockSpellCast();UnlockSpell(Shout_WildShape_Dismiss);IF(isMoonDruid()):UnlockSpell(Shout_WildShape_Combat_Heal,AddChildren,d136c5d9-0ff0-43da-acce-a74a07f8d6bf)"
data "Passives" "WildShapeSpeed30;PackTactics"
data "TemplateID" "a0cd408c-90d0-4534-802e-5f7bcd0f3372"

new entry "WILDSHAPE_VELOCIRAPTOR_PLAYER_2"
type "StatusData"
using "WILDSHAPE_VELOCIRAPTOR_PLAYER"
data "TemplateID" "b339e9ec-1625-48ff-9697-4969e3efdc12"

new entry "WILDSHAPE_VELOCIRAPTOR_PLAYER_3"
type "StatusData"
using "WILDSHAPE_VELOCIRAPTOR_PLAYER"
data "TemplateID" "8e3a9b98-8178-4a5d-8152-4aa7366a48ce"

new entry "Velociraptor_Wildshape_1"
type "Character"
using "_Beast"
data "Strength" "6"
data "Dexterity" "14"
data "Constitution" "13"
data "Intelligence" "4"
data "Wisdom" "12"
data "Charisma" "6"
data "Armor" "11"
data "Vitality" "10"
data "Weight" "250"
data "SoundSize" "Medium"
data "StepsType" "Clawed"
data "SpellCastingAbility" "Dexterity"
data "UnarmedAttackAbility" "Dexterity"

new entry "Velociraptor_Wildshape_2"
type "Character"
using "Velociraptor_Wildshape_1"
data "Vitality" "12"

new entry "Velociraptor_Wildshape_3"
type "Character"
using "Velociraptor_Wildshape_1"
data "Vitality" "15"

new entry "Target_Bite_Velociraptor_Wildshape"
type "SpellData"
using "Target_Bite_Dilophosaurus"
data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing,Magical)"
data "TooltipDamageList" "DealDamage(1d6+UnarmedMeleeAbilityModifier,Piercing)"

// TODO: missing animation for Claws attack
new entry "Target_Claws_Velociraptor_Wildshape"
type "SpellData"
using "Target_Claws_GiantBadger"
data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Piercing,Magical)"
data "TooltipDamageList" "DealDamage(1d4+UnarmedMeleeAbilityModifier,Piercing)"
data "PrepareEffect" "7cf05be8-8e59-40cc-abcd-60229b5941e6"
data "CastEffect" "fdaf8392-f237-4686-abe1-ea1df5beb5d1"
data "HitEffect" "f6ff01cd-1076-43db-909c-2aaabd09432b"

// TODO: missing animation for Claws attack
// new entry "Target_Multiattack_Velociraptor_Wildshape"
// type "SpellData"
// data "SpellType" "Target"
// using "Target_Multiattack"
// data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing,Magical);Cast2[IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Slashing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Slashing,Magical)]"
// data "TooltipDamageList" "DealDamage(1d6+UnarmedMeleeAbilityModifier,Piercing);DealDamage(1d4+UnarmedMeleeAbilityModifier,Slashing)"
// data "PrepareEffect" "7cf05be8-8e59-40cc-abcd-60229b5941e6"
// data "CastEffect" "fdaf8392-f237-4686-abe1-ea1df5beb5d1"
// data "HitEffect" "f6ff01cd-1076-43db-909c-2aaabd09432b"

new entry "Target_Multiattack_Velociraptor_Wildshape"
type "SpellData"
data "SpellType" "Target"
using "Target_Bite_Dilophosaurus"
data "SpellSuccess" "IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing);IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d6+UnarmedMeleeAbilityModifier),Piercing,Magical);    IF(not HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Slashing);    IF(HasPassive('PrimalStrike',context.Source)):DealDamage(max(1,1d4+UnarmedMeleeAbilityModifier),Slashing,Magical)"
data "TooltipDamageList" "DealDamage(1d6+UnarmedMeleeAbilityModifier,Piercing);DealDamage(1d4+UnarmedMeleeAbilityModifier,Slashing)"
data "PrepareEffect" "7cf05be8-8e59-40cc-abcd-60229b5941e6"
data "CastEffect" "fdaf8392-f237-4686-abe1-ea1df5beb5d1"
data "HitEffect" "f6ff01cd-1076-43db-909c-2aaabd09432b"
