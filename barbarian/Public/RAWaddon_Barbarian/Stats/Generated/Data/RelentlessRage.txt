// Relentless Rage:
// Your rage can keep you fighting despite grievous wounds. If you drop to 0 hit points while you're raging and don't die outright, you can make a DC 10 Constitution saving throw. If you succeed, you drop to 1 hit point instead.
// Each time you use this feature after the first, the DC increases by 5. When you finish a short or long rest, the DC resets to 10.
new entry "RelentlessRage"
type "PassiveData"
using "RelentlessRage"
data "Description" "f809a90b-29d6-4558-b6cc-6761e92d3784;1"
data "Properties" "Highlighted"
data "Conditions" ""
data "StatsFunctorContext" "OnCreate;OnLongRest"
data "StatsFunctors" "RemoveStatus(RELENTLESS_RAGE_15);RemoveStatus(RELENTLESS_RAGE_20);RemoveStatus(RELENTLESS_RAGE_25);RemoveStatus(RELENTLESS_RAGE_30);ApplyStatus(SELF,RELENTLESS_RAGE_10,100,-1)"

new entry "RELENTLESS_RAGE_10"
type "StatusData"
using "RELENTLESS_RAGE"
data "Description" "f809a90b-29d6-4558-b6cc-6761e92d3784;1"
data "DescriptionParams" "10"
data "Boosts" "IF(HasStatus('SG_Rage')):DownedStatus(RELENTLESS_RAGE_DOWNED_10,5)"
data "StatusPropertyFlags" "ApplyToDead"

new entry "RELENTLESS_RAGE_15"
type "StatusData"
using "RELENTLESS_RAGE_10"
data "DescriptionParams" "15"
data "Boosts" "IF(HasStatus('SG_Rage')):DownedStatus(RELENTLESS_RAGE_DOWNED_15,5)"

new entry "RELENTLESS_RAGE_20"
type "StatusData"
using "RELENTLESS_RAGE_10"
data "DescriptionParams" "20"
data "Boosts" "IF(HasStatus('SG_Rage')):DownedStatus(RELENTLESS_RAGE_DOWNED_20,5)"

new entry "RELENTLESS_RAGE_25"
type "StatusData"
using "RELENTLESS_RAGE_10"
data "DescriptionParams" "25"
data "Boosts" "IF(HasStatus('SG_Rage')):DownedStatus(RELENTLESS_RAGE_DOWNED_25,5)"

new entry "RELENTLESS_RAGE_30"
type "StatusData"
using "RELENTLESS_RAGE_10"
data "DescriptionParams" "30"
data "Boosts" "IF(HasStatus('SG_Rage')):DownedStatus(RELENTLESS_RAGE_DOWNED_30,5)"

new entry "RELENTLESS_RAGE_DOWNED_10"
type "StatusData"
using "RELENTLESS_RAGE_DOWNED"
data "OnApplyFunctors" "RemoveStatus(RELENTLESS_RAGE_10);ApplyStatus(RELENTLESS_RAGE_15,100,-1)"
data "OnApplyRoll" "SavingThrow(Ability.Constitution,10)"
data "OnApplySuccess" "RegainHitPoints(1,Guaranteed)"

new entry "RELENTLESS_RAGE_DOWNED_15"
type "StatusData"
using "RELENTLESS_RAGE_DOWNED_10"
data "OnApplyFunctors" "RemoveStatus(RELENTLESS_RAGE_15);ApplyStatus(RELENTLESS_RAGE_20,100,-1)"
data "OnApplyRoll" "SavingThrow(Ability.Constitution,15)"

new entry "RELENTLESS_RAGE_DOWNED_20"
type "StatusData"
using "RELENTLESS_RAGE_DOWNED_10"
data "OnApplyFunctors" "RemoveStatus(RELENTLESS_RAGE_20);ApplyStatus(RELENTLESS_RAGE_25,100,-1)"
data "OnApplyRoll" "SavingThrow(Ability.Constitution,20)"

new entry "RELENTLESS_RAGE_DOWNED_25"
type "StatusData"
using "RELENTLESS_RAGE_DOWNED_10"
data "OnApplyFunctors" "RemoveStatus(RELENTLESS_RAGE_25);ApplyStatus(RELENTLESS_RAGE_30,100,-1)"
data "OnApplyRoll" "SavingThrow(Ability.Constitution,25)"

new entry "RELENTLESS_RAGE_DOWNED_30"
type "StatusData"
using "RELENTLESS_RAGE_DOWNED_10"
data "OnApplyFunctors" "RemoveStatus(RELENTLESS_RAGE_30)"
data "OnApplyRoll" "SavingThrow(Ability.Constitution,30)"
